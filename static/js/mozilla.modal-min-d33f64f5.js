if(void 0===Mozilla)var Mozilla={};Mozilla.Modal=function(o,l){"use strict";var a,t,e=!1,i=l("body"),n=l("html"),d={},s=l(o.document),r=void 0===Mozilla.Utils?"Close":Mozilla.Utils.trans("global-close"),c=function(o){o&&o.preventDefault(),a.append(t),l("#modal").remove(),n.removeClass("noscroll"),l(".modal-origin").focus().removeClass("modal-origin"),e=!1,s.off(".moz-modal"),d&&"function"==typeof d.onDestroy&&d.onDestroy(),d={}};return{createModal:function(u,m,f){!function(u,m,f){d=f;var v=l(o).width()<760;e&&c();var b=d&&d.title?d.title:"",p=l('<div id="modal" role="dialog" aria-labelledby="'+u.getAttribute("id")+'" tabindex="-1">  <div class="window">    <div class="inner">      <header>'+b+'</header>      <div id="modal-close">        <a href="#close-modal" class="modal-close-text"> '+r+'</a>        <button type="button" class="button">Ã—</button>      </div>    </div>  </div></div>');d&&!d.allowScroll||v?n.addClass("noscroll"):n.removeClass("noscroll"),i.append(p),a=(t=m).parent(),l("#modal-close").before(t),t.addClass("overlay-contents"),l("#modal-close").click(c).attr("title",r),l("#modal .window").click(function(o){o.target===this&&c()}),p.focus(),s.on("keyup.moz-modal",function(o){27===o.keyCode&&e&&c()}),s.on("focus.moz-modal","body",function(o){e&&!p[0].contains(o.target)&&(o.stopPropagation(),p.focus())}),l(u).addClass("modal-origin"),e=!0,d&&"function"==typeof d.onCreate&&d.onCreate()}(u,m,f)},closeModal:function(){c()}}}(window,window.jQuery);